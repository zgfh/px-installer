<!DOCTYPE html>
<html>
<head>
  <style>
    * {
      color: #dedede;
      font-family: Helvetica, sans-serif
    }

    code {
      color: #F15A22;
      font-family: Monaco, monospace;
    }

    body {
      background-color: #37464c;
    }

    a:-webkit-any-link {
      text-decoration: none;
    }

    input,
    select,
    option {
      background-color: #19272e;
      border: 0px solid;
      font-size: 1em;
      width: 100%;
      height: 100%;
      display: block;
    }

    table {
      border-collapse: collapse;
      background-color:#24363d;
    }

    th, td {
      margin: 0px;
      padding: 0px;
      height: 27px;
      min-width: 300px;
      padding-left: 5px;
    }

    tr {
      border: solid 1px #37464c;
      border-radius:3px;
    }

    th {
      font-weight: bold;
    }

    td input[type="text"] {
      text-align: center;
    }

    td:first-of-type, th:first-of-type {
      background-color: #19272e;
    }

    td[colspan="2"] {
      background-color:#37464c;
    }

    #hdr {
      margin: 0;
      padding: 5px;
      text-align: center;
    }
    #hdr img {
      float: left;
      margin: 0 0 10px 10px;
    }
  </style>
</head>

<body>

  <div id="hdr">
  <img src="https://portworx.com/wp-content/themes/portworx/images/xportworx-logo.png.pagespeed.ic.0Z487a9F2s.png" width="200" height="85">
  <h1><a href="https://docs.portworx.com/scheduler/kubernetes/install.html#install">Portworx configuration form for Kubernetes</a></h1>
  </div>

  <br>
  <div id="k"></div>
  <p>

  <form id="px-form">
    <table BORDER="1">
      <tr>
        <th>Value</th>
        <th>Description</th>
      </tr>
      <tr>
        <td COLSPAN="2" ALIGN="center"><small>REQUIRED PARAMETERS</small></td>
      </tr>
      <tr>
        <td>
          <SELECT NAME="type" onChange="proc(this.form)">
            <OPTION value="oci">OCI container</OPTION>
            <OPTION value="dock">Docker container</OPTION>
          </SELECT>
        </td>
        <td><code>type:</code> Select Portworx deployment type.</td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="c" VALUE="test_cluster" onChange="proc(this.form)">
        </td>
        <td><code>c:</code> Specifies the unique name for the Portworx cluster. (example: <var>test_cluster</var>)</td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="k" VALUE="etcd:http://etc.fake.net:2379" onChange="proc(this.form)">
        </td>
        <td><code>k:</code> Points to your key value database, such as an etcd cluster or a consul cluster. (example: <var>etcd:http(s)://etcd.fake.net:2379</var>)</td>
      </tr>
      <tr>
        <td COLSPAN="2" ALIGN="center"><small>OPTIONAL PARAMETERS</small></td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="s" VALUE="" onChange="proc(this.form)">
        </td>
        <td><code>s:</code> Specify comma-separated list of drives. (example: <var>/dev/sdb,/dev/sdc</var>)</td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="d" VALUE="" onChange="proc(this.form)">
        </td>
        <td><code>d:</code> Specify data network interface. This is useful if your instances have non-standard network interfaces.
          (example: <var>eth1</var>)</td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="m" VALUE="" onChange="proc(this.form)">
        </td>
        <td><code>m:</code> Specify management network interface. This is useful if your instances have non-standard network
          interfaces. (example: <var>eth1</var>)</td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="kbver" VALUE="" onChange="proc(this.form)">
        </td>
        <td><code>kbver:</code> Specify Kubernetes version (default is 1.7) (example: <var>1.7.8</var> or <var>1.8.4-gke.0</var>)</td>
      </tr>
      <tr>
        <td><input type="checkbox" NAME="coreos" onClick="proc(this.form)"></td>
        <td><code>coreos:</code> REQUIRED if target nodes are running coreos. (example: <var>true</var>)</td>
      </tr>
      <tr>
        <td><input type="checkbox" NAME="osft" onClick="proc(this.form)"></td>
        <td><code>osft:</code> REQUIRED if installing on Openshift. (example: <var>true</var>)</td>
      </tr>
      <tr>
        <td><input type="checkbox" NAME="mas" onClick="proc(this.form)"></td>
        <td><code>mas:</code> Specify if PX should run on the Kubernetes master node. For Kubernetes 1.6.4 and prior,
          this needs to be true (default is false) (example: <var>true</var>)</td>
      </tr>
      <tr>
        <td><input type="checkbox" NAME="z" onClick="proc(this.form)"></td>
        <td><code>z:</code> Instructs PX to run in zero storage mode on Kubernetes master. (example: <var>true</var>)</td>
      </tr>
      <tr>
        <td><input type="checkbox" NAME="f" onClick="proc(this.form)"></td>
        <td><code>f:</code> Instructs PX to use any available, unused and unmounted drives or partitions. PX will never
          use a drive or partition that is mounted. (example: <var>true</var>)</td>
      </tr>
      <tr>
        <td>
          <SELECT NAME="st" onChange="proc(this.form)">
            <OPTION value="">none</OPTION>
            <OPTION value="aws">AWS</OPTION>
            <OPTION value="kvdb">kvdb</OPTION>
            <OPTION value="vault">vault</OPTION>
          </SELECT>
        </td>
        <td><code>st:</code> Select the secrets type. (example: <var>vault</var>)</td>
      </tr>
      <tr>
        <td COLSPAN="2" ALIGN="center"><small>KVDB CONFIGURATION PARAMETERS</small></td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="pwd" VALUE="" onChange="proc(this.form)">
        </td>
        <td><code>pwd:</code> Username and password for ETCD authentication in the form user:password (example: <var>username:password</var>)</td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="ca" VALUE="" onChange="proc(this.form)">
        </td>
        <td><code>ca:</code> Location of CA file for ETCD authentication. (example: <var>/path/to/server.ca</var>)</td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="cert" VALUE="" onChange="proc(this.form)">
        </td>
        <td><code>cert:</code> Location of certificate for ETCD authentication. (example: <var>/path/to/server.crt</var>)</td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="key" VALUE="" onChange="proc(this.form)">
        </td>
        <td><code>key:</code> Location of certificate key for ETCD authentication. (example: <var>/path/to/server.key</var>)</td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="acl" VALUE="" onChange="proc(this.form)">
        </td>
        <td><code>acl:</code> ACL token value used for Consul authentication. (example: <var>398073a8-5091-4d9c-871a-bbbeb030d1f6</var>)</td>
      </tr>
      <tr>
        <td COLSPAN="2" ALIGN="center"><small>LIGHTHOUSE CONFIGURATION PARAMETERS</small></td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="t" VALUE="" onChange="proc(this.form)">
        </td>
        <td><code>t:</code> Portworx lighthouse token for cluster. (example: <var>token-a980f3a8-5091-4d9c-871a-cbbeb030d1e6</var>)</td>
      </tr>
      <tr>
        <td>
          <INPUT TYPE="text" NAME="e" VALUE="" onChange="proc(this.form)">
        </td>
        <td><code>e:</code> Comma-separated list of environment variables that will be exported to portworx. (example: <var>API_SERVER=http://lighthouse-new.portworx.com</var>)</td>
        <tr>
    </table>
  </form>

</body>

<script LANGUAGE="JavaScript">
  function proc(form) {
    var elements = form.elements
    var sep = "?"
    var s = ""
    for (var i = 0, el; el = elements[i++];) {
      if ((el.type === "text" || el.type === "select-one") && el.value != "") {
        s += sep + el.name + "="
        if (el.name == "e" || el.name == "env") {
          s += encodeURIComponent(el.value)
        } else if (el.name == 's' || el.name == 'k') {
          s += el.value.replace(/,/g, '%2C')
        } else {
          s += el.value
        }
        sep = "&"
      } else if (el.type === "checkbox" && el.checked) {
        s += sep + el.name + "=true"
        sep = "&"
      }
    }
    s = document.URL + s
    k.innerHTML = "&#x25BA;&nbsp; kubectl apply -f '<a href=\"" + s + "\">" + s + "</a>'"
  }

  proc(document.getElementById("px-form"));
</script>

</html>
